angular.module("event",[]),angular.module("profile",["ngMessages","ngAnimate","ui.bootstrap"]),angular.module("auth",["ngMessages"]),angular.module("admin",[]),function(){var e=function(e){var n=function(){function n(e){return e.data}function t(e){console.log("Failure: "+e)}var r="/api/profile/";return e({method:"GET",url:r}).then(n,t)};return{getUsers:n}};angular.module("admin").factory("userService",["$http",e])}(),function(){var e=function(e){var n=function(){function n(e){return e.data}function t(e){console.log("Failure: "+e)}var r="/api/events";return e({method:"GET",url:r}).then(n,t)};return{getEvents:n}};angular.module("admin").factory("eventService",["$http",e])}(),function(){var e=function(e){var n=function(){function n(e){return e.data}function t(e){console.log("Failure: "+e)}var r="/api/groups";return e({method:"GET",url:r}).then(n,t)};return{getGroup:n}};angular.module("admin").factory("groupService",["$http",e])}(),function(){var e=function(){var e=function(e){var n={id:e},t=new XMLHttpRequest;t.open("DELETE","/api/user/delete/:_id",!0),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(n))},n=function(e){var n={id:e},t=new XMLHttpRequest;t.open("DELETE","/api/event/delete/:_id",!0),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(n))},t=function(e){var n={id:e},t=new XMLHttpRequest;t.open("DELETE","/api/group/delete/:_id",!0),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(n))};return{deleteU:e,deleteE:n,deleteG:t}};angular.module("admin").factory("adminService",[e])}(),function(){"use strict";var e=function(e,n,t,r,i){e.nameFilterU=null,e.nameFilterE=null,e.nameFilterG=null,e.searchFilterU=function(n){var t=new RegExp(e.nameFilterU,"i");return!e.nameFilterU||t.test(n.firstName)},e.searchFilterE=function(n){var t=new RegExp(e.nameFilterE,"i");return!e.nameFilterE||t.test(n.name)},e.searchFilterG=function(n){var t=new RegExp(e.nameFilterG,"i");return!e.nameFilterG||t.test(n.name)},n.getUsers().then(function(n){e.allUsers=n}),t.getEvents().then(function(n){e.allEvents=n}),r.getGroup().then(function(n){e.allGroups=n}),e.deleteUser=function(e){i.deleteU(e)},e.deleteEvent=function(e){i.deleteE(e)},e.deleteGroup=function(e){i["delete"](e)}};angular.module("admin").controller("AdminController",["$scope","userService","eventService","groupService","adminService",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInVzZXJTZXJ2aWNlLmpzIiwiZXZlbnRTZXJ2aWNlLmpzIiwiZ3JvdXBTZXJ2aWNlLmpzIiwiYWRtaW5TZXJ2aWNlLmpzIiwiQWRtaW5Db250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJ1c2VyU2VydmljZSIsIiRodHRwIiwidXNlcnMiLCJzdWNjZXNzQ2FsbGJhY2siLCJyZXNwb25zZSIsImRhdGEiLCJlcnJvckNhbGxiYWNrIiwiY29uc29sZSIsImxvZyIsInVybCIsIm1ldGhvZCIsInRoZW4iLCJnZXRVc2VycyIsImZhY3RvcnkiLCJldmVudFNlcnZpY2UiLCJldmVudHMiLCJnZXRFdmVudHMiLCJncm91cFNlcnZpY2UiLCJncm91cHMiLCJnZXRHcm91cCIsImFkbWluU2VydmljZSIsImRlbGV0ZVVzZXIiLCJpZCIsInVzZXJJZCIsInhtbEh0dHAiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWxldGVFdmVudCIsImV2ZW50SWQiLCJkZWxldGVHcm91cCIsImdyb3VwSWQiLCJkZWxldGVVIiwiZGVsZXRlRSIsImRlbGV0ZUciLCJBZG1pbkNvbnRyb2xsZXIiLCIkc2NvcGUiLCJuYW1lRmlsdGVyVSIsIm5hbWVGaWx0ZXJFIiwibmFtZUZpbHRlckciLCJzZWFyY2hGaWx0ZXJVIiwidXNlciIsImtleXdvcmQiLCJSZWdFeHAiLCJ0ZXN0IiwiZmlyc3ROYW1lIiwic2VhcmNoRmlsdGVyRSIsImV2ZW50IiwibmFtZSIsInNlYXJjaEZpbHRlckciLCJncm91cCIsImFsbFVzZXJzIiwiYWxsRXZlbnRzIiwiYWxsR3JvdXBzIiwiY29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBSUFBLFFBQUFDLE9BQUEsWUFDQUQsUUFBQUMsT0FBQSxXQUFBLGFBQUEsWUFBQSxpQkFDQUQsUUFBQUMsT0FBQSxRQUFBLGVBQ0FELFFBQUFDLE9BQUEs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LEdBQ0FrQyxFQUFBaUIsVUFBQW5ELElBR0FrQyxFQUFBbEIsV0FBQSxTQUFBQyxHQUNBRixFQUFBZSxRQUFBYixJQUdBaUIsRUFBQVIsWUFBQSxTQUFBVCxHQUNBRixFQUFBZ0IsUUFBQWQsSUFHQWlCLEVBQUFOLFlBQUEsU0FBQVgsR0FDQUYsRUFBQUEsVUFBQUUsSUFJQXhCLFNBQUFDLE9BQUEsU0FBQTBELFdBQUEsbUJBQUEsU0FBQSxjQUFBLGVBQUEsZUFBQSxlQUFBbkIiLCJmaWxlIjoiYWRtaW4tcGFnZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgQnJlY2h0IG9uIDIxLzExLzIwMTUuXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ2V2ZW50JyxbXSk7XG5hbmd1bGFyLm1vZHVsZSgncHJvZmlsZScsWyduZ01lc3NhZ2VzJywnbmdBbmltYXRlJywndWkuYm9vdHN0cmFwJ10pO1xuYW5ndWxhci5tb2R1bGUoJ2F1dGgnLFsnbmdNZXNzYWdlcyddKTtcbmFuZ3VsYXIubW9kdWxlKCdhZG1pbicsW10pO1xuXG5cblxuXG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgQnJlY2h0IG9uIDMxLzEyLzIwMTUuXG4gKi9cbihmdW5jdGlvbigpe1xuICAgIHZhciB1c2VyU2VydmljZSA9IGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgICAgICAgdmFyIHVzZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdXJsID0gJy9hcGkvcHJvZmlsZS8nO1xuICAgICAgICAgICAgcmV0dXJuICAkaHR0cCh7bWV0aG9kOiAnR0VUJywgdXJsOiB1cmx9KS50aGVuKHN1Y2Nlc3NDYWxsYmFjayxlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWx1cmU6IFwiICsgcmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIGdldFVzZXJzOiB1c2Vyc1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FkbWluJykuZmFjdG9yeSgndXNlclNlcnZpY2UnLFsnJGh0dHAnLHVzZXJTZXJ2aWNlXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBCcmVjaHQgb24gMzEvMTIvMjAxNS5cbiAqL1xuKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGV2ZW50U2VydmljZSA9IGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgICAgIHZhciBldmVudHMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIHVybCA9ICcvYXBpL2V2ZW50cyc7XG4gICAgICAgICAgICByZXR1cm4gICRodHRwKHttZXRob2Q6ICdHRVQnLCB1cmw6IHVybH0pLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLGVycm9yQ2FsbGJhY2spO1xuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzcG9uc2Upe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbHVyZTogXCIgKyByZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICBnZXRFdmVudHM6IGV2ZW50c1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FkbWluJykuZmFjdG9yeSgnZXZlbnRTZXJ2aWNlJyxbJyRodHRwJyxldmVudFNlcnZpY2VdKTtcbn0pKCk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IEJyZWNodCBvbiAzMS8xMi8yMDE1LlxuICovXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgZ3JvdXBTZXJ2aWNlID0gZnVuY3Rpb24oJGh0dHApIHtcbiAgICAgICAgdmFyIGdyb3VwcyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgdXJsID0gJy9hcGkvZ3JvdXBzJztcbiAgICAgICAgICAgIHJldHVybiAgJGh0dHAoe21ldGhvZDogJ0dFVCcsIHVybDogdXJsfSkudGhlbihzdWNjZXNzQ2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7XG4gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2Upe1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGYWlsdXJlOiBcIiArIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybntcbiAgICAgICAgICAgIGdldEdyb3VwOiBncm91cHNcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhZG1pbicpLmZhY3RvcnkoJ2dyb3VwU2VydmljZScsWyckaHR0cCcsZ3JvdXBTZXJ2aWNlXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBCcmVjaHQgb24gMi8wMS8yMDE2LlxuICovXG4oZnVuY3Rpb24oKXtcbiAgICB2YXIgYWRtaW5TZXJ2aWNlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIGRlbGV0ZVVzZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICAgICAgICB2YXIgdXNlcklkID0ge1xuICAgICAgICAgICAgICAgICdpZCcgOiBpZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHhtbEh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHhtbEh0dHAub3BlbihcIkRFTEVURVwiLFwiL2FwaS91c2VyL2RlbGV0ZS86X2lkXCIsIHRydWUpO1xuICAgICAgICAgICAgeG1sSHR0cC5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcblxuICAgICAgICAgICAgeG1sSHR0cC5zZW5kKEpTT04uc3RyaW5naWZ5KHVzZXJJZCkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBkZWxldGVFdmVudCA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgICAgICAgIHZhciBldmVudElkID0ge1xuICAgICAgICAgICAgICAgICdpZCcgOiBpZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHhtbEh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHhtbEh0dHAub3BlbihcIkRFTEVURVwiLFwiL2FwaS9ldmVudC9kZWxldGUvOl9pZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIHhtbEh0dHAuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG5cbiAgICAgICAgICAgIHhtbEh0dHAuc2VuZChKU09OLnN0cmluZ2lmeShldmVudElkKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGRlbGV0ZUdyb3VwID0gZnVuY3Rpb24oaWQpe1xuICAgICAgICAgICAgdmFyIGdyb3VwSWQgPSB7XG4gICAgICAgICAgICAgICAgJ2lkJyA6IGlkXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgeG1sSHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgeG1sSHR0cC5vcGVuKFwiREVMRVRFXCIsXCIvYXBpL2dyb3VwL2RlbGV0ZS86X2lkXCIsIHRydWUpO1xuICAgICAgICAgICAgeG1sSHR0cC5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcblxuICAgICAgICAgICAgeG1sSHR0cC5zZW5kKEpTT04uc3RyaW5naWZ5KGdyb3VwSWQpKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gIHtcbiAgICAgICAgICAgIGRlbGV0ZVU6IGRlbGV0ZVVzZXIsXG4gICAgICAgICAgICBkZWxldGVFOiBkZWxldGVFdmVudCxcbiAgICAgICAgICAgIGRlbGV0ZUc6IGRlbGV0ZUdyb3VwXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FkbWluJykuZmFjdG9yeSgnYWRtaW5TZXJ2aWNlJyxbYWRtaW5TZXJ2aWNlXSk7XG59KSgpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBCcmVjaHQgb24gMzEvMTIvMjAxNS5cbiAqL1xuKGZ1bmN0aW9uKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgQWRtaW5Db250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlLHVzZXJTZXJ2aWNlLGV2ZW50U2VydmljZSxncm91cFNlcnZpY2UsYWRtaW5TZXJ2aWNlKVxuICAgIHtcbiAgICAgICAgJHNjb3BlLm5hbWVGaWx0ZXJVID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLm5hbWVGaWx0ZXJFID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLm5hbWVGaWx0ZXJHID0gbnVsbDtcblxuICAgICAgICAvLyBvbSBhbGxlZW4gb3AgbmFhbSB0ZSB6b2VrZW5cbiAgICAgICAgJHNjb3BlLnNlYXJjaEZpbHRlclUgPSBmdW5jdGlvbih1c2VyKXtcbiAgICAgICAgICAgIHZhciBrZXl3b3JkID0gbmV3IFJlZ0V4cCgkc2NvcGUubmFtZUZpbHRlclUsJ2knKTtcbiAgICAgICAgICAgIHJldHVybiAhJHNjb3BlLm5hbWVGaWx0ZXJVIHx8IGtleXdvcmQudGVzdCh1c2VyLmZpcnN0TmFtZSk7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5zZWFyY2hGaWx0ZXJFID0gZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgdmFyIGtleXdvcmQgPSBuZXcgUmVnRXhwKCRzY29wZS5uYW1lRmlsdGVyRSwnaScpO1xuICAgICAgICAgICAgcmV0dXJuICEkc2NvcGUubmFtZUZpbHRlckUgfHwga2V5d29yZC50ZXN0KGV2ZW50Lm5hbWUpO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuc2VhcmNoRmlsdGVyRyA9IGZ1bmN0aW9uKGdyb3VwKXtcbiAgICAgICAgICAgIHZhciBrZXl3b3JkID0gbmV3IFJlZ0V4cCgkc2NvcGUubmFtZUZpbHRlckcsJ2knKTtcbiAgICAgICAgICAgIHJldHVybiAhJHNjb3BlLm5hbWVGaWx0ZXJHIHx8IGtleXdvcmQudGVzdChncm91cC5uYW1lKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBHZXQgYWxsIHVzZXJzIGZyb20gU2VydmljZVxuICAgICAgICB1c2VyU2VydmljZS5nZXRVc2VycygpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAkc2NvcGUuYWxsVXNlcnMgPSBkYXRhO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBHZXQgYWxsIGV2ZW50cyBmcm9tIFNlcnZpY2VcbiAgICAgICAgZXZlbnRTZXJ2aWNlLmdldEV2ZW50cygpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAkc2NvcGUuYWxsRXZlbnRzID0gZGF0YTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gR2V0IGFsbCBncm91cHMgZnJvbSBTZXJ2aWNlXG4gICAgICAgIGdyb3VwU2VydmljZS5nZXRHcm91cCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAkc2NvcGUuYWxsR3JvdXBzID0gZGF0YTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLmRlbGV0ZVVzZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICAgICAgICBhZG1pblNlcnZpY2UuZGVsZXRlVShpZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmRlbGV0ZUV2ZW50ID0gZnVuY3Rpb24oaWQpe1xuICAgICAgICAgICAgYWRtaW5TZXJ2aWNlLmRlbGV0ZUUoaWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5kZWxldGVHcm91cCA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgICAgICAgIGFkbWluU2VydmljZS5kZWxldGUoaWQpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFkbWluXCIpLmNvbnRyb2xsZXIoJ0FkbWluQ29udHJvbGxlcicsWyckc2NvcGUnLCd1c2VyU2VydmljZScsJ2V2ZW50U2VydmljZScsJ2dyb3VwU2VydmljZScsJ2FkbWluU2VydmljZScsQWRtaW5Db250cm9sbGVyXSk7XG5cbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
