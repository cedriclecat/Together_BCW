angular.module("event",[]),angular.module("profile",["ngMessages","ngAnimate","ui.bootstrap"]),angular.module("auth",["ngMessages"]),angular.module("admin",[]),function(){var e=function(e){var t=function(){function t(e){return e.data}function n(e){console.log("Failure: "+e)}var a="/api/status";return e({method:"GET",url:a}).then(t,n)};return{getMStatus:t}};angular.module("profile").factory("mStatusService",["$http",e])}(),function(){var e=function(e){var t=function(){function t(e){return e.data}function n(e){console.log("Failure: "+e)}var a="/api/jobs";return e({method:"GET",url:a}).then(t,n)};return{getJobs:t}};angular.module("profile").factory("jobService",["$http",e])}(),function(){var e=function(e){var t=function(){function t(e){return e.data}function n(e){console.log("Failure: "+e)}var a="/api/countries";return e({method:"GET",url:a}).then(t,n)};return{getCountries:t}};angular.module("profile").factory("countryService",["$http",e])}(),function(){var e=function(e){var t=function(){function t(e){return e.data}function n(e){console.log("Failure: "+e.data)}var a="/api/profile/:_id";return e({method:"GET",url:a}).then(t,n)};return{getById:t}};angular.module("profile").factory("certainUserService",["$http",e])}(),function(){"use strict";var e=function(e,t,n,a,r,i,o){a.getMStatus().then(function(t){e.status=t}),r.getJobs().then(function(t){e.jobs=t}),i.getCountries().then(function(t){e.countries=t}),o.getById().then(function(t){e.profile=t}),e.submitForm=function(){function n(e){return e.data}function a(e){console.log("Failure: "+e.data)}e.formData=JSON.stringify({firstName:this.firstName,lastName:this.lastName,email:this.email,gender:this.gender,marital:this.marital.name,birthday:this.dt,work:this.work.name,country:this.country.name,city:this.city,interests:this.interests,description:this.description}),t.post("/api/profile/:id",e.formData).then(n,a)},e.today=function(){e.dt=new Date},e.today(),e.clear=function(){e.dt=null},e.disabled=function(e,t){return"day"===t&&(0===e.getDay()||6===e.getDay())},e.toggleMin=function(){e.minDate=new Date(1900,1,1)},e.toggleMin(),e.maxDate=new Date(2020,5,22),e.open=function(t){e.status.opened=!0},e.setDate=function(t,n,a){e.dt=new Date(t,n,a)},e.dateOptions={formatYear:"yy",startingDay:1},e.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],e.format=e.formats[0],e.status={opened:!1};var u=new Date;u.setDate(u.getDate()+1);var s=new Date;s.setDate(u.getDate()+2),e.events=[{date:u,status:"full"},{date:s,status:"partially"}],e.getDayClass=function(t,n){if("day"===n)for(var a=new Date(t).setHours(0,0,0,0),r=0;r<e.events.length;r++){var i=new Date(e.events[r].date).setHours(0,0,0,0);if(a===i)return e.events[r].status}return""},e.saveEdittedEvent=function(){var e=input.getElementsByTagName("input"),t=input.getElementsByTagName("textarea")[0],n=input.getElementsByTagName("select")[0],a=e[0].closest("form"),r={id:a.id,picture:e.pictureUrl.value,title:e.etitle.value,date:e.date.value,time:e.time.value,location:e.Location.value,group:n.value,cost:e.cost.value,slots:e.slots.value,description:t.value},i=new XMLHttpRequest;i.open("POST","/api/profile/updateEvent",!0),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(r))},e.deleteEvent=function(e){var t=e.currentTarget.closest("tr"),a=t.getElementsByTagName("td"),r=a[1].children[2].innerText,i=n.confirm("Are you absolutely sure you want to delete?");if(i){var o={id:r},u=new XMLHttpRequest;u.open("POST","/api/profile/deleteEvent",!1),u.setRequestHeader("Content-type","application/json"),u.send(JSON.stringify(o))}},e.editEvent=function(t){var n=t.currentTarget.closest("tr"),a=n.getElementsByTagName("td"),r=a.length,i=document.getElementById("input"),o=i.getElementsByTagName("input"),u=i.getElementsByTagName("textarea")[0],s=o[0].closest("form");e.updating=!0;for(var l=r;l--;){var c=a[l].className.split(" "),d=c[c.length-1];switch(d){case"image":break;case"name":o.etitle.value=a[l].innerText,o.Location.value=a[l].children[1].innerText,u.value=a[l].children[0].innerText,s.id=a[l].children[2].innerText;break;case"date":o.date.value=a[l].innerText;break;case"time":o.time.value=a[l].innerText;break;case"price":o.cost.value=a[l].innerText;break;case"maxMember":o.slots.value=a[l].innerText}}}};angular.module("profile").controller("ProfileController",["$scope","$http","$window","mStatusService","jobService","countryService","certainUserService",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIm1TdGF0dXNTZXJ2aWNlLmpzIiwiam9iU2VydmljZS5qcyIsImNvdW50cnlTZXJ2aWNlLmpzIiwiY2VydGFpblVzZXJTZXJ2aWNlLmpzIiwiUHJvZmlsZUNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsIm1TdGF0dXNTZXJ2aWNlIiwiJGh0dHAiLCJtU3RhdHVzIiwic3VjY2Vzc0NhbGxiYWNrIiwicmVzcG9uc2UiLCJkYXRhIiwiZXJyb3JDYWxsYmFjayIsImNvbnNvbGUiLCJsb2ciLCJ1cmwiLCJtZXRob2QiLCJ0aGVuIiwiZ2V0TVN0YXR1cyIsImZhY3RvcnkiLCJqb2JTZXJ2aWNlIiwiam9icyIsImdldEpvYnMiLCJjb3VudHJ5U2VydmljZSIsImNvdW50cmllcyIsImdldENvdW50cmllcyIsImNlcnRhaW5Vc2VyU2VydmljZSIsImJ5SWQiLCJnZXRCeUlkIiwiUHJvZmlsZUNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkd2luZG93Iiwic3RhdHVzIiwicHJvZmlsZSIsInN1Ym1pdEZvcm0iLCJmb3JtRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdE5hbWUiLCJ0aGlzIiwibGFzdE5hbWUiLCJlbWFpbCIsImdlbmRlciIsIm1hcml0YWwiLCJuYW1lIiwiYmlydGhkYXkiLCJkdCIsIndvcmsiLCJjb3VudHJ5IiwiY2l0eSIsImludGVyZXN0cyIsImRlc2NyaXB0aW9uIiwicG9zdCIsInRvZGF5IiwiRGF0ZSIsImNsZWFyIiwiZGlzYWJsZWQiLCJkYXRlIiwibW9kZSIsImdldERheSIsInRvZ2dsZU1pbiIsIm1pbkRhdGUiLCJtYXhEYXRlIiwib3BlbiIsIiRldmVudCIsIm9wZW5lZCIsInNldERhdGUiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJkYXRlT3B0aW9ucyIsImZvcm1hdFllYXIiLCJzdGFydGluZ0RheSIsImZvcm1hdHMiLCJmb3JtYXQiLCJ0b21vcnJvdyIsImdldERhdGUiLCJhZnRlclRvbW9ycm93IiwiZXZlbnRzIiwiZ2V0RGF5Q2xhc3MiLCJkYXlUb0NoZWNrIiwic2V0SG91cnMiLCJpIiwibGVuZ3RoIiwiY3VycmVudERheSIsInNhdmVFZGl0dGVkRXZlbnQiLCJ2ZWxkZW4iLCJpbnB1dCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZGVzYyIsImRyb3Bkb3duIiwiZm9ybSIsImNsb3Nlc3QiLCJtaWpub2JqZWN0amUiLCJpZCIsInBpY3R1cmUiLCJ2YWx1ZSIsInRpdGxlIiwidGltZSIsImxvY2F0aW9uIiwiZ3JvdXAiLCJjb3N0Iiwic2xvdHMiLCJ4bWxIdHRwIiwiWE1MSHR0cFJlcXVlc3QiLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsImRlbGV0ZUV2ZW50IiwidHIiLCJjdXJyZW50VGFyZ2V0IiwiZWxlbWVudGVuIiwiY2hpbGRyZW4iLCJpbm5lclRleHQiLCJjb25maXJtIiwiZWRpdEV2ZW50IiwibGVuZ3RlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInVwZGF0aW5nIiwiY2xhc3NuYW1lIiwiY2xhc3NOYW1lIiwic3BsaXQiLCJ0ZXN0IiwiY29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBSUFBLFFBQUFDLE9BQUEsWUFDQUQsUUFBQUMsT0FBQSxXQUFBLGFBQUEsWUFBQSxpQkFDQUQsUUFBQUMsT0FBQSxRQUFBLGVBQ0FELFFBQUFDLE9BQUEsWUNKQSxXQUNBLEdBQUFDLEdBQUEsU0FBQUMsR0FFQSxHQUFBQyxHQUFBLFdBSUEsUUFBQUMsR0FBQUMsR0FDQSxNQUFBQSxHQUFBQyxLQUVBLFFBQUFDLEdBQUFGLEdBQ0FHLFFBQUFDLElBQUEsWUFBQUosR0FQQSxHQUFBSyxHQUFBLGFBQ0EsT0FBQVIsSUFBQVMsT0FBQSxNQUFBRCxJQUFBQSxJQUFBRSxLQUFBUixFQUFBRyxHQVVBLFFBQ0FNLFdBQUFWLEdBSUFKLFNBQUFDLE9BQUEsV0FBQWMsUUFBQSxrQkFBQSxRQUFBYixPQ3BCQSxXQUNBLEdBQUFjLEdBQUEsU0FBQWIsR0FDQSxHQUFBYyxHQUFBLFdBSUEsUUFB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QUFPLE1BQUFjLEVBQUE1QixHQUFBNkIsU0FBQSxHQUFBQyxVQUNBckIsRUFBQUcsR0FBQWdCLEVBQUE1QixHQUFBNkIsU0FBQSxHQUFBQyxTQUVBLE1BQ0EsS0FBQSxPQUVBMUIsRUFBQSxLQUFBVSxNQUFBYyxFQUFBNUIsR0FBQThCLFNBQ0EsTUFDQSxLQUFBLE9BRUExQixFQUFBLEtBQUFVLE1BQUFjLEVBQUE1QixHQUFBOEIsU0FDQSxNQUNBLEtBQUEsUUFFQTFCLEVBQUEsS0FBQVUsTUFBQWMsRUFBQTVCLEdBQUE4QixTQUNBLE1BQ0EsS0FBQSxZQUVBMUIsRUFBQSxNQUFBVSxNQUFBYyxFQUFBNUIsR0FBQThCLGFBY0E1RyxTQUFBQyxPQUFBLFdBQUFzSCxXQUFBLHFCQUFBLFNBQUEsUUFBQSxVQUFBLGlCQUFBLGFBQUEsaUJBQUEscUJBQUE5RiIsImZpbGUiOiJwcm9maWxlLXBhZ2UubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IEJyZWNodCBvbiAyMS8xMS8yMDE1LlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCdldmVudCcsW10pO1xuYW5ndWxhci5tb2R1bGUoJ3Byb2ZpbGUnLFsnbmdNZXNzYWdlcycsJ25nQW5pbWF0ZScsJ3VpLmJvb3RzdHJhcCddKTtcbmFuZ3VsYXIubW9kdWxlKCdhdXRoJyxbJ25nTWVzc2FnZXMnXSk7XG5hbmd1bGFyLm1vZHVsZSgnYWRtaW4nLFtdKTtcblxuXG5cblxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQnJlY2h0IG9uIDEyLzEyLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuICAgIHZhciBtU3RhdHVzU2VydmljZSA9IGZ1bmN0aW9uKCRodHRwKSB7XHJcblxyXG4gICAgICAgIHZhciBtU3RhdHVzID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIHVybCA9ICcvYXBpL3N0YXR1cyc7XHJcbiAgICAgICAgICAgIHJldHVybiAgJGh0dHAoe21ldGhvZDogJ0dFVCcsIHVybDogdXJsfSkudGhlbihzdWNjZXNzQ2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWx1cmU6IFwiICsgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJue1xyXG4gICAgICAgICAgICBnZXRNU3RhdHVzOiBtU3RhdHVzXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ3Byb2ZpbGUnKS5mYWN0b3J5KCdtU3RhdHVzU2VydmljZScsWyckaHR0cCcsbVN0YXR1c1NlcnZpY2VdKTtcclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBCcmVjaHQgb24gMTgvMTIvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG4gICAgdmFyIGpvYlNlcnZpY2UgPSBmdW5jdGlvbigkaHR0cCkge1xyXG4gICAgICAgIHZhciBqb2JzID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIHVybCA9ICcvYXBpL2pvYnMnO1xyXG4gICAgICAgICAgICByZXR1cm4gICRodHRwKHttZXRob2Q6ICdHRVQnLCB1cmw6IHVybH0pLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLGVycm9yQ2FsbGJhY2spO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGYWlsdXJlOiBcIiArIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybntcclxuICAgICAgICAgICAgZ2V0Sm9iczogam9ic1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdwcm9maWxlJykuZmFjdG9yeSgnam9iU2VydmljZScsWyckaHR0cCcsam9iU2VydmljZV0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEJyZWNodCBvbiAxOC8xMi8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgY291bnRyeVNlcnZpY2UgPSBmdW5jdGlvbigkaHR0cCkge1xyXG4gICAgICAgIHZhciBjb3VudHJpZXMgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgdXJsID0gJy9hcGkvY291bnRyaWVzJztcclxuICAgICAgICAgICAgcmV0dXJuICAkaHR0cCh7bWV0aG9kOiAnR0VUJywgdXJsOiB1cmx9KS50aGVuKHN1Y2Nlc3NDYWxsYmFjayxlcnJvckNhbGxiYWNrKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbHVyZTogXCIgKyByZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm57XHJcbiAgICAgICAgICAgIGdldENvdW50cmllczogY291bnRyaWVzXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdwcm9maWxlJykuZmFjdG9yeSgnY291bnRyeVNlcnZpY2UnLFsnJGh0dHAnLGNvdW50cnlTZXJ2aWNlXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQnJlY2h0IG9uIDEvMDEvMjAxNi5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG4gICAgdmFyIGNlcnRhaW5Vc2VyU2VydmljZSA9IGZ1bmN0aW9uKCRodHRwKSB7XHJcblxyXG4gICAgICAgIHZhciBieUlkID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIHVybCA9ICcvYXBpL3Byb2ZpbGUvOl9pZCc7XHJcbiAgICAgICAgICAgIHJldHVybiAgJGh0dHAoe21ldGhvZDogJ0dFVCcsIHVybDogdXJsfSkudGhlbihzdWNjZXNzQ2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbHVyZTogXCIgK3Jlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJue1xyXG4gICAgICAgICAgICBnZXRCeUlkOiBieUlkXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgncHJvZmlsZScpLmZhY3RvcnkoJ2NlcnRhaW5Vc2VyU2VydmljZScsWyckaHR0cCcsY2VydGFpblVzZXJTZXJ2aWNlXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQnJlY2h0IG9uIDgvMTIvMjAxNS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oKXtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIHZhciBQcm9maWxlQ29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZSwkaHR0cCwkd2luZG93LG1TdGF0dXNTZXJ2aWNlLGpvYlNlcnZpY2UsY291bnRyeVNlcnZpY2UsY2VydGFpblVzZXJTZXJ2aWNlKVxyXG4gICAge1xyXG4gICAgICAgIC8vIEdFVCBNYXJpdGFsIHN0YXR1cywgSm9icywgQ291bnRyaWVzICYgQ2l0aWVzIGZyb20gU2VydmljZXMgKyBhZGQgdGhlbSB0byBzY29wZVxyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgICAgICBtU3RhdHVzU2VydmljZS5nZXRNU3RhdHVzKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IGRhdGE7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGpvYlNlcnZpY2UuZ2V0Sm9icygpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICRzY29wZS5qb2JzID0gZGF0YTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY291bnRyeVNlcnZpY2UuZ2V0Q291bnRyaWVzKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgJHNjb3BlLmNvdW50cmllcyA9IGRhdGE7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNlcnRhaW5Vc2VyU2VydmljZS5nZXRCeUlkKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUgPSBkYXRhO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gU3VibWl0IGZvcm0gcHJvZmlsZSBzZXR0aW5nc1xyXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgICAgICAkc2NvcGUuc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZm9ybURhdGEgPSBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHRoaXMuZmlyc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IHRoaXMubGFzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCxcclxuICAgICAgICAgICAgICAgIGdlbmRlcjogdGhpcy5nZW5kZXIsXHJcbiAgICAgICAgICAgICAgICBtYXJpdGFsOiB0aGlzLm1hcml0YWwubmFtZSxcclxuICAgICAgICAgICAgICAgIGJpcnRoZGF5OiB0aGlzLmR0LFxyXG4gICAgICAgICAgICAgICAgd29yazogdGhpcy53b3JrLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBjb3VudHJ5OiB0aGlzLmNvdW50cnkubmFtZSxcclxuICAgICAgICAgICAgICAgIGNpdHk6IHRoaXMuY2l0eSxcclxuICAgICAgICAgICAgICAgIGludGVyZXN0czogdGhpcy5pbnRlcmVzdHMsXHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJGh0dHAucG9zdChcIi9hcGkvcHJvZmlsZS86aWRcIiwgJHNjb3BlLmZvcm1EYXRhKS50aGVuKHN1Y2Nlc3NDYWxsYmFjayxlcnJvckNhbGxiYWNrKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbHVyZTogXCIgKyByZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICRzY29wZS50b2RheSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuZHQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLnRvZGF5KCk7XHJcblxyXG4gICAgICAgICRzY29wZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmR0ID0gbnVsbDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBEaXNhYmxlIHdlZWtlbmQgc2VsZWN0aW9uXHJcbiAgICAgICAgJHNjb3BlLmRpc2FibGVkID0gZnVuY3Rpb24oZGF0ZSwgbW9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKCBtb2RlID09PSAnZGF5JyAmJiAoIGRhdGUuZ2V0RGF5KCkgPT09IDAgfHwgZGF0ZS5nZXREYXkoKSA9PT0gNiApICk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnRvZ2dsZU1pbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUubWluRGF0ZSA9IG5ldyBEYXRlKDE5MDAsMSwxKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLnRvZ2dsZU1pbigpO1xyXG4gICAgICAgICRzY29wZS5tYXhEYXRlID0gbmV3IERhdGUoMjAyMCwgNSwgMjIpO1xyXG5cclxuICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uKCRldmVudCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdHVzLm9wZW5lZCA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnNldERhdGUgPSBmdW5jdGlvbih5ZWFyLCBtb250aCwgZGF5KSB7XHJcbiAgICAgICAgICAgICRzY29wZS5kdCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5kYXRlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgZm9ybWF0WWVhcjogJ3l5JyxcclxuICAgICAgICAgICAgc3RhcnRpbmdEYXk6IDFcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuZm9ybWF0cyA9IFsnZGQtTU1NTS15eXl5JywgJ3l5eXkvTU0vZGQnLCAnZGQuTU0ueXl5eScsICdzaG9ydERhdGUnXTtcclxuICAgICAgICAkc2NvcGUuZm9ybWF0ID0gJHNjb3BlLmZvcm1hdHNbMF07XHJcblxyXG4gICAgICAgICRzY29wZS5zdGF0dXMgPSB7XHJcbiAgICAgICAgICAgIG9wZW5lZDogZmFsc2VcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgdG9tb3Jyb3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSk7XHJcbiAgICAgICAgdmFyIGFmdGVyVG9tb3Jyb3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGFmdGVyVG9tb3Jyb3cuc2V0RGF0ZSh0b21vcnJvdy5nZXREYXRlKCkgKyAyKTtcclxuICAgICAgICAkc2NvcGUuZXZlbnRzID1cclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IHRvbW9ycm93LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Z1bGwnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IGFmdGVyVG9tb3Jyb3csXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAncGFydGlhbGx5J1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAkc2NvcGUuZ2V0RGF5Q2xhc3MgPSBmdW5jdGlvbihkYXRlLCBtb2RlKSB7XHJcbiAgICAgICAgICAgIGlmIChtb2RlID09PSAnZGF5Jykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRheVRvQ2hlY2sgPSBuZXcgRGF0ZShkYXRlKS5zZXRIb3VycygwLDAsMCwwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7aTwkc2NvcGUuZXZlbnRzLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RGF5ID0gbmV3IERhdGUoJHNjb3BlLmV2ZW50c1tpXS5kYXRlKS5zZXRIb3VycygwLDAsMCwwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRheVRvQ2hlY2sgPT09IGN1cnJlbnREYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5ldmVudHNbaV0uc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5zYXZlRWRpdHRlZEV2ZW50ID0gZnVuY3Rpb24oKVxyXG4gICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgIC8vZXZlbnQgZGF0YSBvcHNsYWFuXHJcbiAgICAgICAgICAgIHZhciB2ZWxkZW4gPSBpbnB1dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpO1xyXG4gICAgICAgICAgICB2YXIgZGVzYyA9IGlucHV0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGV4dGFyZWFcIilbMF07XHJcbiAgICAgICAgICAgIHZhciBkcm9wZG93biA9IGlucHV0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2VsZWN0XCIpWzBdO1xyXG4gICAgICAgICAgICB2YXIgZm9ybSA9IHZlbGRlblswXS5jbG9zZXN0KFwiZm9ybVwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBtaWpub2JqZWN0amUgPSB7XHJcbiAgICAgICAgICAgICAgICAnaWQnOmZvcm0uaWQsXHJcbiAgICAgICAgICAgICAgICAncGljdHVyZSc6dmVsZGVuW1wicGljdHVyZVVybFwiXS52YWx1ZSxcclxuICAgICAgICAgICAgICAgICd0aXRsZSc6dmVsZGVuW1wiZXRpdGxlXCJdLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgJ2RhdGUnOnZlbGRlbltcImRhdGVcIl0udmFsdWUsXHJcbiAgICAgICAgICAgICAgICAndGltZSc6dmVsZGVuW1widGltZVwiXS52YWx1ZSxcclxuICAgICAgICAgICAgICAgICdsb2NhdGlvbic6dmVsZGVuW1wiTG9jYXRpb25cIl0udmFsdWUsXHJcbiAgICAgICAgICAgICAgICAnZ3JvdXAnOmRyb3Bkb3duLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgJ2Nvc3QnOnZlbGRlbltcImNvc3RcIl0udmFsdWUsXHJcbiAgICAgICAgICAgICAgICAnc2xvdHMnOnZlbGRlbltcInNsb3RzXCJdLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzpkZXNjLnZhbHVlXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgeG1sSHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICB4bWxIdHRwLm9wZW4oXCJQT1NUXCIsXCIvYXBpL3Byb2ZpbGUvdXBkYXRlRXZlbnRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHhtbEh0dHAuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcbiAgICAgICAgICAgIHhtbEh0dHAuc2VuZChKU09OLnN0cmluZ2lmeShtaWpub2JqZWN0amUpKTtcclxuXHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5kZWxldGVFdmVudD0gZnVuY3Rpb24oJGV2ZW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHRyID0gJGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgndHInKTtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnRlbiA9IHRyLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGRcIik7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IGVsZW1lbnRlblsxXS5jaGlsZHJlblsyXS5pbm5lclRleHQ7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZWxlbWVudGVuWzFdLmNoaWxkcmVuWzJdKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkZWxldGVFdmVudCA9ICR3aW5kb3cuY29uZmlybSgnQXJlIHlvdSBhYnNvbHV0ZWx5IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlPycpO1xyXG4gICAgICAgICAgICBpZihkZWxldGVFdmVudClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1pam5vYmplY3RqZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAnaWQnIDogaWRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgeG1sSHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAgICAgeG1sSHR0cC5vcGVuKFwiUE9TVFwiLFwiL2FwaS9wcm9maWxlL2RlbGV0ZUV2ZW50XCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHhtbEh0dHAuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcbiAgICAgICAgICAgICAgICB4bWxIdHRwLnNlbmQoSlNPTi5zdHJpbmdpZnkobWlqbm9iamVjdGplKSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmVkaXRFdmVudCA9IGZ1bmN0aW9uKCRldmVudClcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdHIgPSAkZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCd0cicpO1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudGVuID0gdHIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0ZFwiKTtcclxuICAgICAgICAgICAgdmFyIGxlbmd0ZSA9IGVsZW1lbnRlbi5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0XCIpO1xyXG4gICAgICAgICAgICB2YXIgdmVsZGVuID0gaW5wdXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKTtcclxuICAgICAgICAgICAgdmFyIGRlc2MgPSBpbnB1dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpWzBdO1xyXG4gICAgICAgICAgICB2YXIgZm9ybSA9IHZlbGRlblswXS5jbG9zZXN0KFwiZm9ybVwiKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnVwZGF0aW5nID0gdHJ1ZTsgLy93ZXJrdCBuaWV0IGJjYXVzZSBhbmd1bGFyXHJcblxyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSBsZW5ndGU7aS0tOylcclxuICAgICAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjbGFzc25hbWUgPSBlbGVtZW50ZW5baV0uY2xhc3NOYW1lLnNwbGl0KFwiIFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGVzdCA9IGNsYXNzbmFtZVtjbGFzc25hbWUubGVuZ3RoLTFdO1xyXG4gICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0ZXN0KTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCh0ZXN0KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy9jb25zb2xlLmxvZyhcImltYVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5hbWVcIjpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlbGRlbltcImV0aXRsZVwiXS52YWx1ZT1lbGVtZW50ZW5baV0uaW5uZXJUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWxkZW5bXCJMb2NhdGlvblwiXS52YWx1ZSA9IGVsZW1lbnRlbltpXS5jaGlsZHJlblsxXS5pbm5lclRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2MudmFsdWU9IGVsZW1lbnRlbltpXS5jaGlsZHJlblswXS5pbm5lclRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uaWQ9ZWxlbWVudGVuW2ldLmNoaWxkcmVuWzJdLmlubmVyVGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJkYXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWxkZW5bXCJkYXRlXCJdLnZhbHVlPWVsZW1lbnRlbltpXS5pbm5lclRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aW1lXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ0aW1lXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWxkZW5bXCJ0aW1lXCJdLnZhbHVlPWVsZW1lbnRlbltpXS5pbm5lclRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwcmljZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicHJpY2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlbGRlbltcImNvc3RcIl0udmFsdWU9ZWxlbWVudGVuW2ldLmlubmVyVGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1heE1lbWJlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwibWVtYmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWxkZW5bXCJzbG90c1wiXS52YWx1ZT1lbGVtZW50ZW5baV0uaW5uZXJUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcInByb2ZpbGVcIikuY29udHJvbGxlcignUHJvZmlsZUNvbnRyb2xsZXInLFsnJHNjb3BlJywnJGh0dHAnLCckd2luZG93JywnbVN0YXR1c1NlcnZpY2UnLCdqb2JTZXJ2aWNlJywnY291bnRyeVNlcnZpY2UnLCdjZXJ0YWluVXNlclNlcnZpY2UnLFByb2ZpbGVDb250cm9sbGVyXSk7XHJcblxyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
