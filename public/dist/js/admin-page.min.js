angular.module("event",[]),angular.module("profile",["ngMessages","ngAnimate","ui.bootstrap"]),angular.module("auth",["ngMessages"]),angular.module("admin",[]),function(){var e=function(e){var n=function(){function n(e){return e.data}function t(e){console.log("Failure: "+e)}var r="/api/profile/";return e({method:"GET",url:r}).then(n,t)};return{getUsers:n}};angular.module("admin").factory("userService",["$http",e])}(),function(){var e=function(e){var n=function(){function n(e){return e.data}function t(e){console.log("Failure: "+e)}var r="/api/events";return e({method:"GET",url:r}).then(n,t)};return{getEvents:n}};angular.module("admin").factory("eventService",["$http",e])}(),function(){var e=function(e){var n=function(){function n(e){return e.data}function t(e){console.log("Failure: "+e)}var r="/api/groups";return e({method:"GET",url:r}).then(n,t)};return{getGroup:n}};angular.module("admin").factory("groupService",["$http",e])}(),function(){var e=function(){var e=function(e){var n={id:e},t=new XMLHttpRequest;t.open("DELETE","/api/user/delete/:_id",!0),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(n))},n=function(e){var n={id:e},t=new XMLHttpRequest;t.open("DELETE","/api/event/delete/:_id",!0),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(n))},t=function(e){var n={id:e},t=new XMLHttpRequest;t.open("DELETE","/api/group/delete/:_id",!0),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(n))};return{deleteU:e,deleteE:n,deleteG:t}};angular.module("admin").factory("adminService",[e])}(),function(){"use strict";var e=function(e,n,t,r,i){e.nameFilterU=null,e.nameFilterE=null,e.nameFilterG=null,e.searchFilterU=function(n){var t=new RegExp(e.nameFilterU,"i");return!e.nameFilterU||t.test(n.firstName)},e.searchFilterE=function(n){var t=new RegExp(e.nameFilterE,"i");return!e.nameFilterE||t.test(n.name)},e.searchFilterG=function(n){var t=new RegExp(e.nameFilterG,"i");return!e.nameFilterG||t.test(n.name)},n.getUsers().then(function(n){e.allUsers=n}),t.getEvents().then(function(n){e.allEvents=n}),r.getGroup().then(function(n){e.allGroups=n}),e.deleteUser=function(e){i.deleteU(e)},e.deleteEvent=function(e){i.deleteE(e)},e.deleteGroup=function(e){i.deleteG(e)}};angular.module("admin").controller("AdminController",["$scope","userService","eventService","groupService","adminService",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInVzZXJTZXJ2aWNlLmpzIiwiZXZlbnRTZXJ2aWNlLmpzIiwiZ3JvdXBTZXJ2aWNlLmpzIiwiYWRtaW5TZXJ2aWNlLmpzIiwiQWRtaW5Db250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJ1c2VyU2VydmljZSIsIiRodHRwIiwidXNlcnMiLCJzdWNjZXNzQ2FsbGJhY2siLCJyZXNwb25zZSIsImRhdGEiLCJlcnJvckNhbGxiYWNrIiwiY29uc29sZSIsImxvZyIsInVybCIsIm1ldGhvZCIsInRoZW4iLCJnZXRVc2VycyIsImZhY3RvcnkiLCJldmVudFNlcnZpY2UiLCJldmVudHMiLCJnZXRFdmVudHMiLCJncm91cFNlcnZpY2UiLCJncm91cHMiLCJnZXRHcm91cCIsImFkbWluU2VydmljZSIsImRlbGV0ZVVzZXIiLCJpZCIsInVzZXJJZCIsInhtbEh0dHAiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWxldGVFdmVudCIsImV2ZW50SWQiLCJkZWxldGVHcm91cCIsImdyb3VwSWQiLCJkZWxldGVVIiwiZGVsZXRlRSIsImRlbGV0ZUciLCJBZG1pbkNvbnRyb2xsZXIiLCIkc2NvcGUiLCJuYW1lRmlsdGVyVSIsIm5hbWVGaWx0ZXJFIiwibmFtZUZpbHRlckciLCJzZWFyY2hGaWx0ZXJVIiwidXNlciIsImtleXdvcmQiLCJSZWdFeHAiLCJ0ZXN0IiwiZmlyc3ROYW1lIiwic2VhcmNoRmlsdGVyRSIsImV2ZW50IiwibmFtZSIsInNlYXJjaEZpbHRlckciLCJncm91cCIsImFsbFVzZXJzIiwiYWxsRXZlbnRzIiwiYWxsR3JvdXBzIiwiY29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBSUFBLFFBQUFDLE9BQUEsWUFDQUQsUUFBQUMsT0FBQSxXQUFBLGFBQUEsWUFBQSxpQkFDQUQsUUFBQUMsT0FBQSxRQUFBLGVBQ0FELFFBQUFDLE9BQUEs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LEdBQ0FrQyxFQUFBaUIsVUFBQW5ELElBR0FrQyxFQUFBbEIsV0FBQSxTQUFBQyxHQUNBRixFQUFBZSxRQUFBYixJQUdBaUIsRUFBQVIsWUFBQSxTQUFBVCxHQUNBRixFQUFBZ0IsUUFBQWQsSUFHQWlCLEVBQUFOLFlBQUEsU0FBQVgsR0FDQUYsRUFBQWlCLFFBQUFmLElBSUF4QixTQUFBQyxPQUFBLFNBQUEwRCxXQUFBLG1CQUFBLFNBQUEsY0FBQSxlQUFBLGVBQUEsZUFBQW5CIiwiZmlsZSI6ImFkbWluLXBhZ2UubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IEJyZWNodCBvbiAyMS8xMS8yMDE1LlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCdldmVudCcsW10pO1xuYW5ndWxhci5tb2R1bGUoJ3Byb2ZpbGUnLFsnbmdNZXNzYWdlcycsJ25nQW5pbWF0ZScsJ3VpLmJvb3RzdHJhcCddKTtcbmFuZ3VsYXIubW9kdWxlKCdhdXRoJyxbJ25nTWVzc2FnZXMnXSk7XG5hbmd1bGFyLm1vZHVsZSgnYWRtaW4nLFtdKTtcblxuXG5cblxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQnJlY2h0IG9uIDMxLzEyLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuICAgIHZhciB1c2VyU2VydmljZSA9IGZ1bmN0aW9uKCRodHRwKSB7XHJcblxyXG4gICAgICAgIHZhciB1c2VycyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdXJsID0gJy9hcGkvcHJvZmlsZS8nO1xyXG4gICAgICAgICAgICByZXR1cm4gICRodHRwKHttZXRob2Q6ICdHRVQnLCB1cmw6IHVybH0pLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLGVycm9yQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWx1cmU6IFwiICsgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJue1xyXG4gICAgICAgICAgICBnZXRVc2VyczogdXNlcnNcclxuICAgICAgICB9O1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FkbWluJykuZmFjdG9yeSgndXNlclNlcnZpY2UnLFsnJGh0dHAnLHVzZXJTZXJ2aWNlXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQnJlY2h0IG9uIDMxLzEyLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuICAgIHZhciBldmVudFNlcnZpY2UgPSBmdW5jdGlvbigkaHR0cCkge1xyXG4gICAgICAgIHZhciBldmVudHMgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgdXJsID0gJy9hcGkvZXZlbnRzJztcclxuICAgICAgICAgICAgcmV0dXJuICAkaHR0cCh7bWV0aG9kOiAnR0VUJywgdXJsOiB1cmx9KS50aGVuKHN1Y2Nlc3NDYWxsYmFjayxlcnJvckNhbGxiYWNrKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2socmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGYWlsdXJlOiBcIiArIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybntcclxuICAgICAgICAgICAgZ2V0RXZlbnRzOiBldmVudHNcclxuICAgICAgICB9O1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FkbWluJykuZmFjdG9yeSgnZXZlbnRTZXJ2aWNlJyxbJyRodHRwJyxldmVudFNlcnZpY2VdKTtcclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBCcmVjaHQgb24gMzEvMTIvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG4gICAgdmFyIGdyb3VwU2VydmljZSA9IGZ1bmN0aW9uKCRodHRwKSB7XHJcbiAgICAgICAgdmFyIGdyb3VwcyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciB1cmwgPSAnL2FwaS9ncm91cHMnO1xyXG4gICAgICAgICAgICByZXR1cm4gICRodHRwKHttZXRob2Q6ICdHRVQnLCB1cmw6IHVybH0pLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLGVycm9yQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWx1cmU6IFwiICsgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJue1xyXG4gICAgICAgICAgICBnZXRHcm91cDogZ3JvdXBzXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhZG1pbicpLmZhY3RvcnkoJ2dyb3VwU2VydmljZScsWyckaHR0cCcsZ3JvdXBTZXJ2aWNlXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgQnJlY2h0IG9uIDIvMDEvMjAxNi5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG4gICAgdmFyIGFkbWluU2VydmljZSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgZGVsZXRlVXNlciA9IGZ1bmN0aW9uKGlkKXtcclxuICAgICAgICAgICAgdmFyIHVzZXJJZCA9IHtcclxuICAgICAgICAgICAgICAgICdpZCcgOiBpZFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHhtbEh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgeG1sSHR0cC5vcGVuKFwiREVMRVRFXCIsXCIvYXBpL3VzZXIvZGVsZXRlLzpfaWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHhtbEh0dHAuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcblxyXG4gICAgICAgICAgICB4bWxIdHRwLnNlbmQoSlNPTi5zdHJpbmdpZnkodXNlcklkKSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGRlbGV0ZUV2ZW50ID0gZnVuY3Rpb24oaWQpe1xyXG4gICAgICAgICAgICB2YXIgZXZlbnRJZCA9IHtcclxuICAgICAgICAgICAgICAgICdpZCcgOiBpZFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHhtbEh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgeG1sSHR0cC5vcGVuKFwiREVMRVRFXCIsXCIvYXBpL2V2ZW50L2RlbGV0ZS86X2lkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB4bWxIdHRwLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xyXG5cclxuICAgICAgICAgICAgeG1sSHR0cC5zZW5kKEpTT04uc3RyaW5naWZ5KGV2ZW50SWQpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgZGVsZXRlR3JvdXAgPSBmdW5jdGlvbihpZCl7XHJcbiAgICAgICAgICAgIHZhciBncm91cElkID0ge1xyXG4gICAgICAgICAgICAgICAgJ2lkJyA6IGlkXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgeG1sSHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICB4bWxIdHRwLm9wZW4oXCJERUxFVEVcIixcIi9hcGkvZ3JvdXAvZGVsZXRlLzpfaWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHhtbEh0dHAuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcblxyXG4gICAgICAgICAgICB4bWxIdHRwLnNlbmQoSlNPTi5zdHJpbmdpZnkoZ3JvdXBJZCkpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiAge1xyXG4gICAgICAgICAgICBkZWxldGVVOiBkZWxldGVVc2VyLFxyXG4gICAgICAgICAgICBkZWxldGVFOiBkZWxldGVFdmVudCxcclxuICAgICAgICAgICAgZGVsZXRlRzogZGVsZXRlR3JvdXBcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYWRtaW4nKS5mYWN0b3J5KCdhZG1pblNlcnZpY2UnLFthZG1pblNlcnZpY2VdKTtcclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBCcmVjaHQgb24gMzEvMTIvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgdmFyIEFkbWluQ29udHJvbGxlciA9IGZ1bmN0aW9uKCRzY29wZSx1c2VyU2VydmljZSxldmVudFNlcnZpY2UsZ3JvdXBTZXJ2aWNlLGFkbWluU2VydmljZSlcclxuICAgIHtcclxuICAgICAgICAkc2NvcGUubmFtZUZpbHRlclUgPSBudWxsO1xyXG4gICAgICAgICRzY29wZS5uYW1lRmlsdGVyRSA9IG51bGw7XHJcbiAgICAgICAgJHNjb3BlLm5hbWVGaWx0ZXJHID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gb20gYWxsZWVuIG9wIG5hYW0gdGUgem9la2VuXHJcbiAgICAgICAgJHNjb3BlLnNlYXJjaEZpbHRlclUgPSBmdW5jdGlvbih1c2VyKXtcclxuICAgICAgICAgICAgdmFyIGtleXdvcmQgPSBuZXcgUmVnRXhwKCRzY29wZS5uYW1lRmlsdGVyVSwnaScpO1xyXG4gICAgICAgICAgICByZXR1cm4gISRzY29wZS5uYW1lRmlsdGVyVSB8fCBrZXl3b3JkLnRlc3QodXNlci5maXJzdE5hbWUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLnNlYXJjaEZpbHRlckUgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgICAgIHZhciBrZXl3b3JkID0gbmV3IFJlZ0V4cCgkc2NvcGUubmFtZUZpbHRlckUsJ2knKTtcclxuICAgICAgICAgICAgcmV0dXJuICEkc2NvcGUubmFtZUZpbHRlckUgfHwga2V5d29yZC50ZXN0KGV2ZW50Lm5hbWUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLnNlYXJjaEZpbHRlckcgPSBmdW5jdGlvbihncm91cCl7XHJcbiAgICAgICAgICAgIHZhciBrZXl3b3JkID0gbmV3IFJlZ0V4cCgkc2NvcGUubmFtZUZpbHRlckcsJ2knKTtcclxuICAgICAgICAgICAgcmV0dXJuICEkc2NvcGUubmFtZUZpbHRlckcgfHwga2V5d29yZC50ZXN0KGdyb3VwLm5hbWUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEdldCBhbGwgdXNlcnMgZnJvbSBTZXJ2aWNlXHJcbiAgICAgICAgdXNlclNlcnZpY2UuZ2V0VXNlcnMoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxsVXNlcnMgPSBkYXRhO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBHZXQgYWxsIGV2ZW50cyBmcm9tIFNlcnZpY2VcclxuICAgICAgICBldmVudFNlcnZpY2UuZ2V0RXZlbnRzKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgJHNjb3BlLmFsbEV2ZW50cyA9IGRhdGE7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEdldCBhbGwgZ3JvdXBzIGZyb20gU2VydmljZVxyXG4gICAgICAgIGdyb3VwU2VydmljZS5nZXRHcm91cCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGxHcm91cHMgPSBkYXRhO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkc2NvcGUuZGVsZXRlVXNlciA9IGZ1bmN0aW9uKGlkKXtcclxuICAgICAgICAgICAgYWRtaW5TZXJ2aWNlLmRlbGV0ZVUoaWQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5kZWxldGVFdmVudCA9IGZ1bmN0aW9uKGlkKXtcclxuICAgICAgICAgICAgYWRtaW5TZXJ2aWNlLmRlbGV0ZUUoaWQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5kZWxldGVHcm91cCA9IGZ1bmN0aW9uKGlkKXtcclxuICAgICAgICAgICAgYWRtaW5TZXJ2aWNlLmRlbGV0ZUcoaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYWRtaW5cIikuY29udHJvbGxlcignQWRtaW5Db250cm9sbGVyJyxbJyRzY29wZScsJ3VzZXJTZXJ2aWNlJywnZXZlbnRTZXJ2aWNlJywnZ3JvdXBTZXJ2aWNlJywnYWRtaW5TZXJ2aWNlJyxBZG1pbkNvbnRyb2xsZXJdKTtcclxuXHJcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
